# dev-workflows-governance

## Project
A Claude Code plugin providing governance layer — signoff gates, TIDY stage, operation-specific checklists, and anti-rationalization hooks.

## Stack
- Plain markdown files (no build step, no dependencies)
- Claude Code plugin format (.claude-plugin/plugin.json)
- MIT licensed

## Key Commands
- Lint: none (markdown only)
- Tests: none currently
- Install check: verify plugin.json is valid JSON — `python -m json.tool .claude-plugin/plugin.json`
- Hook check: verify hooks.json is valid JSON — `python -m json.tool hooks/hooks.json`

## Structure
```
.claude-plugin/plugin.json   — plugin manifest
agents/                      — wrap-up, signoff, governance-audit
commands/                    — tidy, signoff, audit
skills/checklist-vs-rules/   — core insight skill
hooks/                       — plugin hooks (anti-rationalization Stop hook)
README.md                    — user-facing documentation
LICENSE                      — MIT
```

## Contribution Target
This plugin is being contributed to shinpr/claude-code-workflows marketplace.
Contribution PR goes to: https://github.com/francismiles1/claude-code-workflows (fork)
Upstream: https://github.com/shinpr/claude-code-workflows

## Before Signoff — Mandatory Checklist
- [ ] plugin.json is valid JSON — run: `python -m json.tool .claude-plugin/plugin.json`
- [ ] All agent frontmatter has name and description fields
- [ ] All command frontmatter has description field
- [ ] SKILL.md frontmatter has name and description fields
- [ ] README.md accurately reflects current file structure
- [ ] No junk files (*.tmp, *.bak, .DS_Store)
- [ ] All files exist in project tree (not private memory) — verify: `git status`
- [ ] Clean commit created

## Workflow
PLAN → implement changes → /tidy → /signoff → push

## Governance Checklists
Operation-specific checklists generated by `/audit`. Use the relevant checklist **before** making changes to that area.

| Checklist | Risk | When to use |
|---|---|---|
| [`plugin-manifest-change`](docs/checklists/plugin-manifest-change.md) | HIGH | Any edit to `.claude-plugin/plugin.json` |
| [`agent-definition-change`](docs/checklists/agent-definition-change.md) | HIGH | Any edit to `agents/`, `commands/`, or `skills/` files |
| [`version-release`](docs/checklists/version-release.md) | MEDIUM | Bumping version for a new release or publish |
| [`upstream-contribution`](docs/checklists/upstream-contribution.md) | HIGH | PRs to fork or upstream marketplace repo |
| [`hook-definition-change`](docs/checklists/hook-definition-change.md) | HIGH | Any edit to `hooks/hooks.json` |

## Notes
- hooks/hooks.json is a functional plugin hook — registered in plugin.json and auto-activated on installation
- The plugin has no runtime dependencies — all files are markdown or JSON
- Versioning follows semver — bump version in .claude-plugin/plugin.json on changes